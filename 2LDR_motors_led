#include <Servo.h>

const int ldr1Pin = A0;
const int ldr2Pin = A1;
const int servoPin = 6;
const int led1Pin = 9;
const int led2Pin = 10;

Servo myServo;

int currentPosition = 90;

void setup() {
  myServo.attach(servoPin);
  myServo.write(currentPosition);

  pinMode(led1Pin, OUTPUT);
  pinMode(led2Pin, OUTPUT);

  Serial.begin(9600);
  Serial.println("Monitoring light sensors...");
}

void loop() {
  int ldr1Value = analogRead(ldr1Pin);
  int ldr2Value = analogRead(ldr2Pin);

  int ldr1Threshold = 650;
  int ldr2Threshold = 650;

  Serial.print("LDR1 Value: ");
  Serial.print(ldr1Value);
  Serial.print(" | LDR2 Value: ");
  Serial.println(ldr2Value);

  if (ldr1Value >= ldr1Threshold && currentPosition != 0 && ldr1Value > ldr2Value) {
    currentPosition = 0;
    myServo.write(currentPosition);
    analogWrite(led1Pin, 255);
    analogWrite(led2Pin, 0);
    Serial.println("LDR1 triggered: Servo at 0 degrees and LED1 on.");
  }

  if (ldr2Value >= ldr2Threshold && currentPosition != 90 && ldr2Value > ldr1Value) {
    currentPosition = 90;
    myServo.write(currentPosition);
    analogWrite(led2Pin, 255);
    analogWrite(led1Pin, 0);
    Serial.println("LDR2 triggered: Servo at 90 degrees and LED2 on.");
  }

  delay(100);
}
